{"version":3,"sources":["images/cups/affogato.png","images/cups/black.png","images/cups/cafe.png","images/cups/cap.png","images/cups/decaf.png","images/cups/espresso.png","images/cups/latte.png","images/cups/mocha.png","images/cups/rist.png","contexts/ChatContext.jsx","images/logo.png","components/Home/Home.jsx","images/cups/cups.js","contexts/SocketContext.jsx","socketInstance.js","components/CupSelect/CupSelect.jsx","components/Input/Input.jsx","hooks/useHandleChange.jsx","components/PopperElement/PopperRef.jsx","hooks/useSetPopperRef.jsx","components/MessageContainer/Message/Message.jsx","components/PopperElement/PopperElement.jsx","components/MessageContainer/MessageContainer.jsx","components/ChatBox/ChatBox.jsx","components/ChatTable/ChatTable.jsx","components/ChatRoom/ChatRoom.jsx","components/CheckSocket/CheckSocket.jsx","hooks/useCheckSocket.jsx","App.js","index.js"],"names":["ChatTypeContext","React","createContext","chatType","setChatType","Component","props","useState","type","Provider","value","children","Home","useContext","className","src","logo","alt","to","affogato","require","black","cafe","cappuccino","decaf","espresso","latte","mocha","ristretto","cupObj","cups","name","file","SocketContext","socket","setSocket","gen_socket","useLocation","useCallback","new_socket","io","UserCup","item","setSelected","selected","navigate","useNavigate","onClick","emit","room","joinRoom","default","_","startCase","CupSelect","socketContext","chatTypeContext","location","useEffect","search","URLSearchParams","get","map","Input","input","setInput","handleChange","e","target","useHandleChange","Fragment","render","onChange","onKeyDown","key","activeTimeout","useSetPopper","cb","popperActive","setPopperActive","popperRef","setPopperRef","popperContent","setPopperContent","PopperWrapper","content","handleVisible","setTimeout","onMouseEnter","onMouseOut","clearTimeout","Message","msg","classNames","id","user","sent_at","text","popperElement","setPopperElement","usePopper","placement","position","styles","attributes","active","style","popper","ref","PopperElement","ReactDOM","createPortal","document","getElementById","MessageContainer","messages","setMessages","on","message","uuid","ChatBox","handleMessage","moment","format","theta","Math","PI","MemoImage","memo","image","ChatUser","tableSize","index","tableItem","useRef","radius","eleWidth","current","offsetWidth","top","sin","left","cos","ChatTable","tableRef","setTableSize","createLayout","window","addEventListener","removeEventListener","users","i","ChatRoom","setUsers","ignore","CheckSocket","useCheckSocket","App","exact","path","element","StrictMode"],"mappings":"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","file":"static/js/main.2c43b9a7.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/affogato.e3ef5e6c.png\";","export default __webpack_public_path__ + \"static/media/black.22526409.png\";","export default __webpack_public_path__ + \"static/media/cafe.e3b5df44.png\";","export default __webpack_public_path__ + \"static/media/cap.afaeea28.png\";","export default __webpack_public_path__ + \"static/media/decaf.5411da4a.png\";","export default __webpack_public_path__ + \"static/media/espresso.bf8690f7.png\";","export default __webpack_public_path__ + \"static/media/latte.67572742.png\";","export default __webpack_public_path__ + \"static/media/mocha.0716fcb5.png\";","export default __webpack_public_path__ + \"static/media/rist.c85dd702.png\";","import React, { useState, useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nconst ChatTypeContext = React.createContext({\r\n  chatType: null,\r\n  setChatType: () => {},\r\n});\r\nfunction Component(props) {\r\n  const [type, setChatType] = useState(null);\r\n\r\n  return (\r\n    <ChatTypeContext.Provider value={{ chatType: type, setChatType }}>\r\n      {props.children}\r\n    </ChatTypeContext.Provider>\r\n  );\r\n}\r\nexport { ChatTypeContext, Component as ChatTypeComponent };\r\n","export default __webpack_public_path__ + \"static/media/logo.3b2d4623.png\";","import React, { useContext, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport { ChatTypeContext } from \"../../contexts/ChatContext\";\nimport logo from \"../../images/logo.png\";\nimport \"./Home.scoped.scss\";\n\nconst Home = (props) => {\n  const chatTypeContext = useContext(ChatTypeContext);\n\n  return (\n    <div className=\"container\">\n      <div className=\"logo-container\">\n        <img src={logo} alt=\"\" />\n      </div>\n      <div className=\"button-container\">\n        <button className=\"btn btn-primary\">\n          <Link className=\"btn-link\" to=\"/select?type=group\">\n            Group\n          </Link>\n        </button>\n        <button className=\"btn btn-outline-primary\">\n          <Link className=\"btn-link\" to=\"/select?type=individual\">\n            Individual\n          </Link>\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","const affogato = require(\"./affogato.png\");\n\nconst black = require(\"./black.png\");\nconst cafe = require(\"./cafe.png\");\nconst cappuccino = require(\"./cap.png\");\nconst decaf = require(\"./decaf.png\");\nconst espresso = require(\"./espresso.png\");\nconst latte = require(\"./latte.png\");\nconst mocha = require(\"./mocha.png\");\nconst ristretto = require(\"./rist.png\");\nexport const cupObj = {\n  affogato,\n  black,\n  cafe,\n  cappuccino,\n  decaf,\n  espresso,\n  latte,\n  mocha,\n  ristretto,\n};\nexport const cups = [\n  { name: \"affogato\", file: affogato },\n  { name: \"black\", file: black },\n\n  { name: \"cafe\", file: cafe },\n  { name: \"cappuccino\", file: cappuccino },\n  { name: \"decaf\", file: decaf },\n  { name: \"espresso\", file: espresso },\n  { name: \"latte\", file: latte },\n  { name: \"mocha\", file: mocha },\n  { name: \"ristretto\", file: ristretto },\n];\n","import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport { init_socket } from \"../socketInstance\";\r\n\r\nconst SocketContext = React.createContext({\r\n  socket: null,\r\n  setSocket: null,\r\n});\r\n\r\nfunction Component(props) {\r\n  const [socket, setSocket] = useState(null);\r\n  const location = useLocation();\r\n  const gen_socket = useCallback(() => {\r\n    const new_socket = init_socket();\r\n\r\n    setSocket(new_socket);\r\n  }, []);\r\n\r\n  return (\r\n    <SocketContext.Provider value={{ socket, setSocket: gen_socket }}>\r\n      {props.children}\r\n    </SocketContext.Provider>\r\n  );\r\n}\r\nexport { SocketContext, Component as SocketComponent };\r\n","import io from \"socket.io-client\";\nconst host =\n  process.env.NODE_ENV === \"development\"\n    ? \"http://localhost:5500\"\n    : \"https://murmuring-retreat-94687.herokuapp.com/\";\nexport function init_socket() {\n  return io(host);\n}\n","import React, { useContext, useEffect, useState } from \"react\";\nimport { Link, useLocation, useNavigate } from \"react-router-dom\";\nimport logo from \"../../images/logo.png\";\nimport \"./CupSelect.scoped.scss\";\nimport { cups } from \"../../images/cups/cups\";\nimport _ from \"lodash\";\nimport { SocketContext } from \"../../contexts/SocketContext\";\nimport { ChatTypeContext } from \"../../contexts/ChatContext\";\nconst UserCup = ({ item, setSelected, selected, type }) => {\n  const location = useLocation();\n  const { socket } = useContext(SocketContext);\n  const { chatType } = useContext(ChatTypeContext);\n  const navigate = useNavigate();\n  const joinRoom = (item) => {\n    setSelected(item);\n\n    navigate(`/chat`);\n    socket.emit(\"join\", { ...item, type: chatType }, (room) => {});\n  };\n\n  return (\n    <div\n      onClick={() => {\n        joinRoom(item);\n      }}\n      className=\"cup-select-container d-flex flex-column align-items-center\"\n    >\n      <div className=\"cup-image-container\">\n        <img className=\"cup-select\" src={item.file.default} alt=\"\" />\n      </div>\n      <div className=\"cup-label\">{_.startCase(item.name)}</div>\n    </div>\n  );\n};\nconst CupSelect = (props) => {\n  const [selected, setSelected] = useState(null);\n  const socketContext = useContext(SocketContext);\n  const chatTypeContext = useContext(ChatTypeContext);\n  const location = useLocation();\n  useEffect(() => {\n    const search = location.search;\n    const params = new URLSearchParams(search);\n    const chatType = params.get(\"type\");\n\n    socketContext.setSocket();\n    chatTypeContext.setChatType(chatType);\n  }, []);\n\n  return (\n    <div className=\"container d-flex align-items-center justify-content-center\">\n      <div className=\"select-wrapper d-flex flex-column\">\n        <div className=\"header-container p-2\">Select your coffee character</div>\n        <div className=\"cups-container d-flex\">\n          {cups.map((item) => {\n            if (socketContext.socket) {\n              return (\n                <UserCup\n                  key={item.name}\n                  setSelected={setSelected}\n                  item={item}\n                  selected={selected}\n                />\n              );\n            }\n          })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CupSelect;\n","import React, { useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport { useHandleChange } from \"../../hooks/useHandleChange\";\r\n\r\nimport { getNewSocket, getSocket } from \"../../socketInstance\";\r\n\r\nimport \"./Input.scoped.scss\";\r\nexport default function Input(props) {\r\n  const { input, handleChange } = useHandleChange();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      {props.render(input)}\r\n      <input\r\n        onChange={handleChange}\r\n        onKeyDown={(e) => {\r\n          if (e.key === \"Enter\") {\r\n            props.onKeyDown(input);\r\n          }\r\n        }}\r\n        type=\"text\"\r\n        className=\"form-control\"\r\n        aria-label=\"Amount (to the nearest dollar)\"\r\n      />\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { SocketContext } from \"../contexts/SocketContext\";\r\nexport const useHandleChange = () => {\r\n  const [input, setInput] = useState(\"\");\r\n\r\n  const handleChange = (e) => {\r\n    setInput(e.target.value);\r\n  };\r\n  return { input, handleChange };\r\n};\r\n","import { useCallback, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { getNewSocket, getSocket } from \"../../socketInstance\";\r\n\r\nimport \"./PopperElement.scoped.scss\";\r\nimport { usePopper } from \"react-popper\";\r\nimport { useSetPopper } from \"../../hooks/useSetPopperRef\";\r\nlet activeTimeout;\r\nexport function PopperWrapper({\r\n  setPopperActive,\r\n  setPopperRef,\r\n  children,\r\n  content,\r\n  setPopperContent,\r\n}) {\r\n  const handleVisible = useCallback((e) => {\r\n    activeTimeout = setTimeout(() => {\r\n      setPopperActive(true);\r\n      setPopperRef(e.target);\r\n      setPopperContent(content);\r\n    }, 200);\r\n  }, []);\r\n\r\n  return (\r\n    <div\r\n      onMouseEnter={(e) => {\r\n        handleVisible(e);\r\n      }}\r\n      onMouseOut={(e) => {\r\n        clearTimeout(activeTimeout);\r\n        setPopperActive(false);\r\n\r\n        setPopperRef(null);\r\n      }}\r\n      className=\"popper-wrapper\"\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { SocketContext } from \"../contexts/SocketContext\";\r\nexport const useSetPopper = (cb) => {\r\n  const [popperActive, setPopperActive] = useState(false);\r\n  const [popperRef, setPopperRef] = useState(null);\r\n  const [popperContent, setPopperContent] = useState(null);\r\n\r\n  return {\r\n    setPopperActive,\r\n    setPopperRef,\r\n    setPopperContent,\r\n    popperActive,\r\n    popperRef,\r\n    popperContent,\r\n  };\r\n};\r\n","import { cupObj } from \"../../../images/cups/cups\";\r\nimport \"./Message.scoped.scss\";\r\nimport classNames from \"classnames\";\r\nimport { useContext } from \"react\";\r\nimport { SocketContext } from \"../../../contexts/SocketContext\";\r\nimport { PopperWrapper } from \"../../PopperElement/PopperRef\";\r\n\r\nexport function Message({\r\n  msg,\r\n  setPopperActive,\r\n  setPopperContent,\r\n\r\n  setPopperRef,\r\n}) {\r\n  const { socket } = useContext(SocketContext);\r\n\r\n  return (\r\n    <div\r\n      className={classNames({\r\n        \"msg-container\": true,\r\n        \"d-flex\": true,\r\n        \"justify-content-end\": socket.id !== msg.user.id,\r\n      })}\r\n    >\r\n      <div className=\"user-container\">\r\n        <div className=\"prof-image-container\">\r\n          <PopperWrapper\r\n            content={msg.user.name}\r\n            setPopperRef={setPopperRef}\r\n            setPopperContent={setPopperContent}\r\n            setPopperActive={setPopperActive}\r\n          >\r\n            <img src={cupObj[msg.user.name].default} alt=\"\" />{\" \"}\r\n          </PopperWrapper>\r\n        </div>\r\n      </div>\r\n      <PopperWrapper\r\n        content={msg.sent_at}\r\n        setPopperRef={setPopperRef}\r\n        setPopperContent={setPopperContent}\r\n        setPopperActive={setPopperActive}\r\n      >\r\n        <div\r\n          className={classNames({\r\n            \"text-container\": true,\r\n            \"incoming-msg\": socket.id !== msg.user.id,\r\n            \"current-user-msg\": socket.id === msg.user.id,\r\n          })}\r\n        >\r\n          {msg.text}\r\n        </div>\r\n      </PopperWrapper>\r\n    </div>\r\n  );\r\n}\r\n","import { useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { getNewSocket, getSocket } from \"../../socketInstance\";\r\n\r\nimport \"./PopperElement.scoped.scss\";\r\nimport { usePopper } from \"react-popper\";\r\nfunction Component(props) {\r\n  const [popperElement, setPopperElement] = useState(null);\r\n  const { styles, attributes } = usePopper(props.popperRef, popperElement, {\r\n    placement: props.position,\r\n  });\r\n\r\n  return props.active ? (\r\n    <div\r\n      style={styles.popper}\r\n      ref={setPopperElement}\r\n      {...attributes.popper}\r\n      className=\"popper-container\"\r\n    >\r\n      {props.content}\r\n    </div>\r\n  ) : null;\r\n}\r\nexport function PopperElement(props) {\r\n  return ReactDOM.createPortal(\r\n    <Component {...props} />,\r\n    document.getElementById(\"popper\")\r\n  );\r\n}\r\n","import { useContext, useEffect, useRef, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport { SocketContext } from \"../../contexts/SocketContext\";\r\nimport { useCheckSocket } from \"../../hooks/useCheckSocket\";\r\nimport { v4 as uuid } from \"uuid\";\r\nimport { getNewSocket, getSocket } from \"../../socketInstance\";\r\nimport { Message } from \"./Message/Message\";\r\n\r\nimport \"./MessageContainer.scoped.scss\";\r\nimport { PopperElement } from \"../PopperElement/PopperElement\";\r\nimport { useSetPopper } from \"../../hooks/useSetPopperRef\";\r\n\r\nexport default function MessageContainer(props) {\r\n  const [messages, setMessages] = useState([]);\r\n  const {\r\n    setPopperActive,\r\n    setPopperContent,\r\n    setPopperRef,\r\n    popperActive,\r\n    popperContent,\r\n    popperRef,\r\n  } = useSetPopper();\r\n\r\n  const { socket, setSocket } = useContext(SocketContext);\r\n\r\n  useEffect(() => {\r\n    socket.on(\"message\", (message, user) => {\r\n      if (user.name !== \"admin\") {\r\n        message.user = user;\r\n        message.id = uuid();\r\n        setMessages((messages) => {\r\n          return [...messages, message];\r\n        });\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <PopperElement\r\n        position=\"left\"\r\n        popperRef={popperRef}\r\n        content={popperContent}\r\n        active={popperActive}\r\n      />\r\n\r\n      <div className=\"item-container\">\r\n        {messages.map((msg) => {\r\n          return (\r\n            <div key={msg.id} className=\"message-container\">\r\n              <Message\r\n                popperContent={msg.sent_at}\r\n                setPopperRef={setPopperRef}\r\n                setPopperContent={setPopperContent}\r\n                setPopperActive={setPopperActive}\r\n                msg={msg}\r\n              />\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { SocketContext } from \"../../contexts/SocketContext\";\r\nimport Input from \"../Input/Input\";\r\nimport MessageContainer from \"../MessageContainer/MessageContainer\";\r\nimport \"./ChatBox.scoped.scss\";\r\nimport moment from \"moment\";\r\nexport default function ChatBox(props) {\r\n  const { socket } = useContext(SocketContext);\r\n\r\n  const handleMessage = (input) => {\r\n    socket.emit(\"message\", {\r\n      text: input,\r\n      sent_at: moment().format(\"LT\"),\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"messages-wrapper\">\r\n        <div className=\"message-container\">\r\n          <MessageContainer />\r\n        </div>\r\n      </div>\r\n      <div className=\"input-group\">\r\n        <Input\r\n          onKeyDown={handleMessage}\r\n          render={(input) => {\r\n            return (\r\n              <span\r\n                className=\"input-group-text send-btn\"\r\n                onClick={() => {\r\n                  handleMessage(input);\r\n                }}\r\n              >\r\n                Send\r\n              </span>\r\n            );\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import \"./ChatTable.scoped.scss\";\nimport { createPopper } from \"@popperjs/core\";\n\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nvar theta = [\n  Math.PI / 2,\n  Math.PI / 4,\n  2 * Math.PI,\n  7 * (Math.PI / 4),\n  (3 * Math.PI) / 2,\n  5 * (Math.PI / 4),\n  3 * (Math.PI / 4),\n  Math.PI,\n];\nimport { usePopper } from \"react-popper\";\nimport { PopperElement } from \"../PopperElement/PopperElement\";\nimport { useSetPopper } from \"../../hooks/useSetPopperRef\";\nimport { PopperWrapper } from \"../PopperElement/PopperRef\";\nimport { cupObj } from \"../../images/cups/cups\";\n\nconst MemoImage = React.memo(\n  ({ user }) => {\n    return <img src={cupObj[user.name].default} alt=\"\" />;\n  },\n  ({ user }) => {\n    user.image === user.image;\n  }\n);\nfunction ChatUser({ tableSize, index, user }) {\n  const tableItem = useRef();\n  const radius = tableSize / 2;\n  useEffect(() => {\n    const eleWidth = tableItem.current.offsetWidth / 2;\n\n    tableItem.current.style.top = `${\n      -radius * Math.sin(theta[index]) + radius - eleWidth\n    }px `;\n    tableItem.current.style.left = `${\n      radius * Math.cos(theta[index]) + radius - eleWidth\n    }px`;\n  }, [index]);\n  return (\n    <div ref={tableItem} className=\"user-container\">\n      <div className=\"user-image-container\">\n        <MemoImage user={user} />\n      </div>\n    </div>\n  );\n}\n\nexport function ChatTable(props) {\n  const tableRef = useRef();\n  const tableItem = useRef();\n  const {\n    setPopperActive,\n    setPopperContent,\n    setPopperRef,\n    popperActive,\n    popperContent,\n    popperRef,\n  } = useSetPopper();\n  const [tableSize, setTableSize] = useState(null);\n\n  const createLayout = useCallback(() => {\n    setTableSize(tableRef.current.offsetWidth);\n  }, []);\n  useEffect(() => {\n    setTableSize(tableRef.current.offsetWidth);\n    window.addEventListener(\"resize\", createLayout);\n    return () => {\n      window.removeEventListener(\"resize\", createLayout);\n    };\n  }, []);\n\n  return (\n    <div ref={tableRef} className=\"table-container\">\n      <PopperElement\n        content={popperContent}\n        active={popperActive}\n        popperRef={popperRef}\n        position=\"top\"\n      />\n      {props.users.map((item, i) => {\n        return (\n          <div className=\"user-container\" key={item.id}>\n            <PopperWrapper\n              setPopperContent={setPopperContent}\n              setPopperActive={setPopperActive}\n              setPopperRef={setPopperRef}\n              content={item.name}\n            >\n              <ChatUser user={item} index={i} tableSize={tableSize} />\n            </PopperWrapper>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n","import { useContext, useEffect, useState } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport { SocketContext } from \"../../contexts/SocketContext\";\r\nimport { init_socket_mock, join_room_mock } from \"../../dev_stuff/functions\";\r\nimport { useCheckSocket } from \"../../hooks/useCheckSocket\";\r\n\r\nimport { getNewSocket, getSocket } from \"../../socketInstance\";\r\nimport ChatBox from \"../ChatBox/ChatBox\";\r\nimport { ChatTable } from \"../ChatTable/ChatTable\";\r\n\r\nimport \"./ChatRoom.scoped.scss\";\r\n\r\nexport default function ChatRoom(props) {\r\n  const [users, setUsers] = useState([]);\r\n  const { socket, setSocket } = useContext(SocketContext);\r\n  // useEffect(() => {\r\n  //   join_room_mock(socket);\r\n  // }, []);\r\n  useEffect(() => {\r\n    let ignore = false;\r\n    socket.on(\"user_joined\", (users) => {\r\n      if (!ignore) {\r\n        setUsers(users);\r\n      }\r\n    });\r\n    return () => {\r\n      ignore = true;\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"wrapper d-flex\">\r\n      <ChatTable users={users} />\r\n      <ChatBox />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport { SocketContext } from \"../../contexts/SocketContext\";\r\nimport { init_socket_mock, join_room_mock } from \"../../dev_stuff/functions\";\r\nimport { useCheckSocket } from \"../../hooks/useCheckSocket\";\r\n\r\nimport { getNewSocket, getSocket } from \"../../socketInstance\";\r\n\r\nimport \"./CheckSocket.scoped.scss\";\r\nexport default function CheckSocket(props) {\r\n  const handleChange = (value, cb) => {\r\n    cb(value);\r\n  };\r\n  const navigate = useNavigate();\r\n  const handleEnter = () => {};\r\n  const { socket, setSocket } = useContext(SocketContext);\r\n  useCheckSocket(() => {});\r\n  useEffect(() => {\r\n    if (!socket) {\r\n      navigate(\"/\");\r\n    }\r\n    // init_socket_mock(socket, setSocket);\r\n  }, []);\r\n  return <React.Fragment>{socket && props.children}</React.Fragment>;\r\n}\r\n","import React, { useCallback, useContext, useEffect } from \"react\";\r\nimport { SocketContext } from \"../contexts/SocketContext\";\r\nexport const useCheckSocket = (cb) => {\r\n  const { socket, setSocket } = useContext(SocketContext);\r\n\r\n  useEffect(() => {\r\n    if (socket) {\r\n      cb();\r\n    }\r\n  }, [socket]);\r\n  return;\r\n};\r\n","import React, { useEffect, useState } from \"react\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport { Route, Switch, Routes } from \"react-router\";\nimport bootstrap from \"bootstrap/scss/bootstrap.scss\";\nimport \"./App.css\";\nimport Home from \"./components/Home/Home\";\nimport CupSelect from \"./components/CupSelect/CupSelect\";\nimport ChatRoom from \"./components/ChatRoom/ChatRoom\";\nimport { SocketContext, SocketComponent } from \"./contexts/SocketContext\";\nimport { ChatTypeComponent } from \"./contexts/ChatContext\";\nimport CheckSocket from \"./components/CheckSocket/CheckSocket\";\n// import Navbar from \"./components/Navbar/Navbar\";\nconst UserContext = React.createContext(null);\nconst SocketProvider = React.createContext(null);\nconst App = () => {\n  const [currentUser, setCurrentUser] = useState();\n  const [chatType, setChatType] = useState();\n\n  const selectUser = (user) => {\n    setCurrentUser(user);\n  };\n\n  useEffect(() => {}, []);\n  return (\n    <div className=\"app-wrapper\">\n      <Router>\n        {/* <Navbar></Navbar> */}\n        {/* <UserContext.Provider\n          value={{\n            user: currentUser,\n            setCurrentUser,\n          }}\n        > */}\n\n        <SocketComponent>\n          <ChatTypeComponent>\n            <Routes>\n              <Route exact path=\"/\" element={<Home />}></Route>\n              <Route path=\"select\" element={<CupSelect />}></Route>\n              <Route\n                path=\"chat\"\n                element={\n                  <CheckSocket>\n                    <ChatRoom />\n                  </CheckSocket>\n                }\n              ></Route>\n            </Routes>\n          </ChatTypeComponent>\n        </SocketComponent>\n\n        {/* </UserContext.Provider> */}\n      </Router>\n    </div>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}