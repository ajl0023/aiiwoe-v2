(this.webpackJsonpclient_cra_v4=this.webpackJsonpclient_cra_v4||[]).push([[0],{46:function(e,t,c){},52:function(e,t,c){},53:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/affogato.e3ef5e6c.png"},54:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/black.22526409.png"},55:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/cafe.e3b5df44.png"},56:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/cap.afaeea28.png"},57:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/decaf.5411da4a.png"},58:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/espresso.bf8690f7.png"},59:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/latte.67572742.png"},60:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/mocha.0716fcb5.png"},61:function(e,t,c){"use strict";c.r(t),t.default=c.p+"static/media/rist.c85dd702.png"},62:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){},71:function(e,t,c){},72:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(20),r=c.n(s),i=c(3),o=c(2),u=c(18),d=(c(46),c(17));var l=c(1),j=n.a.createContext({socket:null,setSocket:null});function f(e){var t=Object(a.useState)(null),c=Object(i.a)(t,2),n=c[0],s=c[1],r=(Object(o.e)(),Object(a.useCallback)((function(){var e=Object(d.a)("https://aiiwoe.herokuapp.com/");s(e)}),[]));return Object(l.jsx)(j.Provider,{value:{socket:n,setSocket:r},children:e.children})}c(52);function p(e){var t=function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),c=t[0],n=t[1];return{input:c,handleChange:function(e){n(e.target.value)}}}(),c=t.input,s=t.handleChange;return Object(l.jsxs)(n.a.Fragment,{children:[e.render(c),Object(l.jsx)("input",{onChange:s,onKeyDown:function(t){"Enter"===t.key&&e.onKeyDown(c)},type:"text",className:"form-control","aria-label":"Amount (to the nearest dollar)","data-v-1511656c":""})]})}var b,v=c(38),O=c(79),m=c(53),x=c(54),h=c(55),g=c(56),N=c(57),P=c(58),C=c(59),k=c(60),y=c(61),S={affogato:m,black:x,cafe:h,cappuccino:g,decaf:N,espresso:P,latte:C,mocha:k,ristretto:y},w=[{name:"affogato",file:m},{name:"black",file:x},{name:"cafe",file:h},{name:"cappuccino",file:g},{name:"decaf",file:N},{name:"espresso",file:P},{name:"latte",file:C},{name:"mocha",file:k},{name:"ristretto",file:y}],R=(c(62),c(30)),E=c.n(R),A=(c(63),function(e){var t=Object(a.useState)(!1),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(null),o=Object(i.a)(r,2),u=o[0],d=o[1],l=Object(a.useState)(null),j=Object(i.a)(l,2),f=j[0];return{setPopperActive:s,setPopperRef:d,setPopperContent:j[1],popperActive:n,popperRef:u,popperContent:f}});function M(e){var t=e.setPopperActive,c=e.setPopperRef,n=e.children,s=e.content,r=e.setPopperContent,i=Object(a.useCallback)((function(e){b=setTimeout((function(){t(!0),c(e.target),r(s)}),200)}),[]);return Object(l.jsx)("div",{onMouseEnter:function(e){i(e)},onMouseOut:function(e){clearTimeout(b),t(!1),c(null)},className:"popper-wrapper","data-v-7adbeaa0":"",children:n})}function I(e){var t=e.msg,c=e.setPopperActive,n=e.setPopperContent,s=e.setPopperRef,r=Object(a.useContext)(j).socket;return Object(l.jsxs)("div",{className:E()({"msg-container":!0,"d-flex":!0,"justify-content-end":r.id!==t.user.id}),"data-v-4fac928b":"",children:[Object(l.jsx)("div",{className:"user-container","data-v-4fac928b":"",children:Object(l.jsx)("div",{className:"prof-image-container","data-v-4fac928b":"",children:Object(l.jsxs)(M,{content:t.user.name,setPopperRef:s,setPopperContent:n,setPopperActive:c,"data-v-4fac928b":"",children:[Object(l.jsx)("img",{src:S[t.user.name].default,alt:"","data-v-4fac928b":""})," "]})})}),Object(l.jsx)("div",{className:"text-wrapper","data-v-4fac928b":"",children:Object(l.jsx)(M,{content:t.sent_at,setPopperRef:s,setPopperContent:n,setPopperActive:c,"data-v-4fac928b":"",children:Object(l.jsx)("div",{className:E()({"text-container":!0,"incoming-msg":r.id!==t.user.id,"current-user-msg":r.id===t.user.id}),"data-v-4fac928b":"",children:t.text})})})]})}c(64);var T=c(19),_=(c(65),c(78));function z(e){var t=Object(a.useState)(null),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(_.a)(e.popperRef,n,{placement:e.position}),o=r.styles,u=r.attributes;return e.active?Object(l.jsx)("div",Object(T.a)(Object(T.a)({style:o.popper,ref:s},u.popper),{},{className:"popper-container","data-v-f8178511":"",children:e.content})):null}function L(e){return r.a.createPortal(Object(l.jsx)(z,Object(T.a)(Object(T.a)({},e),{},{"data-v-f8178511":""})),document.getElementById("popper"))}function D(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),n=c[0],s=c[1],r=A(),o=r.setPopperActive,u=r.setPopperContent,d=r.setPopperRef,f=r.popperActive,p=r.popperContent,b=r.popperRef,m=Object(a.useContext)(j),x=m.socket;m.setSocket;return Object(a.useEffect)((function(){x.on("message",(function(e,t){"admin"!==t.name&&(e.user=t,e.id=Object(O.a)(),s((function(t){return[].concat(Object(v.a)(t),[e])})))}))}),[]),Object(l.jsxs)("div",{className:"wrapper","data-v-052b78e6":"",children:[Object(l.jsx)(L,{position:"left",popperRef:b,content:p,active:f,"data-v-052b78e6":""}),Object(l.jsx)("div",{className:"messages-container","data-v-052b78e6":"",children:n.map((function(e){return Object(l.jsx)(I,{popperContent:e.sent_at,setPopperRef:d,setPopperContent:u,setPopperActive:o,msg:e,"data-v-052b78e6":""},e.id)}))})]})}c(66);var K=c(36),W=c.n(K);c(67);function B(e){return Object(l.jsx)("div",{className:"wrapper d-flex border-bottom","data-v-3782975f":"",children:e.users.map((function(e){return Object(l.jsx)("div",{className:"user-container","data-v-3782975f":"",children:Object(l.jsx)("img",{src:S[e.name].default,alt:"","data-v-3782975f":""})})}))})}function F(e){var t=Object(a.useContext)(j).socket,c=function(e){t.emit("message",{text:e,sent_at:W()().format("LT")})};return Object(l.jsxs)("div",{className:"wrapper","data-v-5600c8a1":"",children:[Object(l.jsx)("div",{className:"messages-wrapper","data-v-5600c8a1":"",children:Object(l.jsx)("div",{className:"message-container","data-v-5600c8a1":"",children:Object(l.jsx)(D,{"data-v-5600c8a1":""})})}),Object(l.jsx)("div",{className:"input-group","data-v-5600c8a1":"",children:Object(l.jsx)(p,{onKeyDown:c,render:function(e){return Object(l.jsx)("span",{className:"input-group-text send-btn",onClick:function(){c(e)},"data-v-5600c8a1":"",children:"Send"})},"data-v-5600c8a1":""})})]})}c(68);var J=[Math.PI/2,Math.PI/4,2*Math.PI,Math.PI/4*7,3*Math.PI/2,Math.PI/4*5,Math.PI/4*3,Math.PI],G=n.a.memo((function(e){var t=e.user;return Object(l.jsx)("img",{src:S[t.name].default,alt:"","data-v-e1035402":""})}),(function(e){var t=e.user;t.image,t.image}));function U(e){var t=e.tableSize,c=e.index,n=e.user,s=Object(a.useRef)(),r=t/2;return Object(a.useEffect)((function(){var e=s.current.offsetWidth/2;s.current.style.top="".concat(-r*Math.sin(J[c])+r-e,"px "),s.current.style.left="".concat(r*Math.cos(J[c])+r-e,"px")}),[c,t]),Object(l.jsx)("div",{ref:s,className:"user-container","data-v-e1035402":"",children:Object(l.jsx)("div",{className:"user-image-container","data-v-e1035402":"",children:Object(l.jsx)(G,{user:n,"data-v-e1035402":""})})})}function q(e){var t=Object(a.useRef)(),c=(Object(a.useRef)(),A()),n=c.setPopperActive,s=c.setPopperContent,r=c.setPopperRef,o=c.popperActive,u=c.popperContent,d=c.popperRef,j=Object(a.useState)(null),f=Object(i.a)(j,2),p=f[0],b=f[1],v=Object(a.useCallback)((function(){b(t.current.offsetWidth)}),[]);return Object(a.useEffect)((function(){return b(t.current.offsetWidth),window.addEventListener("resize",v),function(){window.removeEventListener("resize",v)}}),[]),Object(l.jsxs)("div",{ref:t,className:"table-container","data-v-e1035402":"",children:[Object(l.jsx)(L,{content:u,active:o,popperRef:d,position:"top","data-v-e1035402":""}),e.users.map((function(e,t){return Object(l.jsx)("div",{className:"user-container","data-v-e1035402":"",children:Object(l.jsx)(M,{setPopperContent:s,setPopperActive:n,setPopperRef:r,content:e.name,"data-v-e1035402":"",children:Object(l.jsx)(U,{user:e,index:t,tableSize:p,"data-v-e1035402":""})})},e.id)}))]})}c(69);function H(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useContext)(j),o=r.socket;r.setSocket;return Object(a.useEffect)((function(){var e=!1;return o.on("user_joined",(function(t){e||s(t)})),o.on("_disconnect",(function(t){e||s(t)})),function(){e=!0}}),[]),Object(l.jsxs)("div",{className:"wrapper d-flex","data-v-230b3733":"",children:[Object(l.jsx)(q,{users:n,"data-v-230b3733":""}),Object(l.jsxs)("div",{className:"messages-user-container","data-v-230b3733":"",children:[Object(l.jsx)(B,{users:n,"data-v-230b3733":""}),Object(l.jsx)(F,{"data-v-230b3733":""})]})]})}c(70);function Q(e){var t=Object(o.f)(),c=Object(a.useContext)(j),s=c.socket;c.setSocket;return function(e){var t=Object(a.useContext)(j),c=t.socket;t.setSocket,Object(a.useEffect)((function(){c&&e()}),[c])}((function(){})),Object(a.useEffect)((function(){s||t("/")}),[]),Object(l.jsx)(n.a.Fragment,{children:s&&e.children})}var V=c.p+"static/media/logo.3b2d4623.png",X=(c(71),c(37)),Y=c.n(X),Z=n.a.createContext({chatType:null,setChatType:function(){}});function $(e){var t=Object(a.useState)(null),c=Object(i.a)(t,2),n=c[0],s=c[1];return Object(l.jsx)(Z.Provider,{value:{chatType:n,setChatType:s},children:e.children})}var ee=function(e){var t=e.item,c=e.setSelected,n=(e.selected,e.type,Object(o.e)(),Object(a.useContext)(j).socket),s=Object(a.useContext)(Z).chatType,r=Object(o.f)();return Object(l.jsxs)("div",{onClick:function(){!function(e){n.emit("join",Object(T.a)(Object(T.a)({},e),{},{type:s}),(function(e){})),c(e),r("/chat")}(t)},className:"cup-select-container d-flex flex-column align-items-center","data-v-dfdce130":"",children:[Object(l.jsx)("div",{className:"cup-image-container","data-v-dfdce130":"",children:Object(l.jsx)("img",{className:"cup-select",src:t.file.default,alt:"","data-v-dfdce130":""})}),Object(l.jsx)("div",{className:"cup-label","data-v-dfdce130":"",children:Y.a.startCase(t.name)})]})},te=function(e){var t=Object(a.useState)(null),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useContext)(j),u=Object(a.useContext)(Z),d=Object(o.e)();return Object(a.useEffect)((function(){var e=d.search,t=new URLSearchParams(e).get("type");r.setSocket(),u.setChatType(t)}),[]),Object(l.jsx)("div",{className:"container d-flex align-items-center justify-content-center","data-v-dfdce130":"",children:Object(l.jsxs)("div",{className:"select-wrapper d-flex flex-column","data-v-dfdce130":"",children:[Object(l.jsx)("div",{className:"header-container p-2","data-v-dfdce130":"",children:"Select your coffee character"}),Object(l.jsx)("div",{className:"cups-container d-flex","data-v-dfdce130":"",children:w.map((function(e){if(r.socket)return Object(l.jsx)(ee,{setSelected:s,item:e,selected:n,"data-v-dfdce130":""},e.name)}))})]})})},ce=(c(72),function(e){Object(a.useContext)(Z);return Object(l.jsx)("div",{className:"container","data-v-9f357e8c":"",children:Object(l.jsxs)("div",{className:"main-content-container","data-v-9f357e8c":"",children:[Object(l.jsx)("div",{className:"logo-container","data-v-9f357e8c":"",children:Object(l.jsx)("img",{src:V,alt:"","data-v-9f357e8c":""})}),Object(l.jsxs)("div",{className:"button-container","data-v-9f357e8c":"",children:[Object(l.jsx)("button",{className:"btn btn-primary","data-v-9f357e8c":"",children:Object(l.jsx)(u.b,{className:"btn-link",to:"/select?type=group","data-v-9f357e8c":"",children:"Group"})}),Object(l.jsx)("button",{className:"btn btn-outline-primary","data-v-9f357e8c":"",children:Object(l.jsx)(u.b,{className:"btn-link",to:"/select?type=individual","data-v-9f357e8c":"",children:"Individual"})})]})]})})}),ae=(c(73),function(){var e=Object(a.useState)(),t=Object(i.a)(e,2);t[0],t[1];return Object(a.useEffect)((function(){}),[]),Object(l.jsx)("div",{className:"app-wrapper",children:Object(l.jsx)(u.a,{children:Object(l.jsx)(f,{children:Object(l.jsx)($,{children:Object(l.jsxs)(o.c,{children:[Object(l.jsx)(o.a,{exact:!0,path:"/",element:Object(l.jsx)(ce,{})}),Object(l.jsx)(o.a,{path:"select",element:Object(l.jsx)(te,{})}),Object(l.jsx)(o.a,{path:"chat",element:Object(l.jsx)(Q,{children:Object(l.jsx)(H,{})})})]})})})})})});r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(ae,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.979a8be5.chunk.js.map