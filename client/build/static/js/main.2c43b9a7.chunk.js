(this.webpackJsonpclient_cra_v4=this.webpackJsonpclient_cra_v4||[]).push([[0],{47:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/affogato.e3ef5e6c.png"},52:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/black.22526409.png"},53:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/cafe.e3b5df44.png"},54:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/cap.afaeea28.png"},55:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/decaf.5411da4a.png"},56:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/espresso.bf8690f7.png"},57:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/latte.67572742.png"},58:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/mocha.0716fcb5.png"},59:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/rist.c85dd702.png"},64:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},70:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),s=a(20),r=a.n(s),i=a(3),o=a(17),u=a(2),d=(a(46),a(47),a(1)),f=n.a.createContext({chatType:null,setChatType:function(){}});function l(e){var t=Object(c.useState)(null),a=Object(i.a)(t,2),n=a[0],s=a[1];return Object(d.jsx)(f.Provider,{value:{chatType:n,setChatType:s},children:e.children})}var j=a.p+"static/media/logo.3b2d4623.png",p=(a(49),function(e){Object(c.useContext)(f);return Object(d.jsxs)("div",{className:"container","data-v-bf66a8b2":"",children:[Object(d.jsx)("div",{className:"logo-container","data-v-bf66a8b2":"",children:Object(d.jsx)("img",{src:j,alt:"","data-v-bf66a8b2":""})}),Object(d.jsxs)("div",{className:"button-container","data-v-bf66a8b2":"",children:[Object(d.jsx)("button",{className:"btn btn-primary","data-v-bf66a8b2":"",children:Object(d.jsx)(o.b,{className:"btn-link",to:"/select?type=group","data-v-bf66a8b2":"",children:"Group"})}),Object(d.jsx)("button",{className:"btn btn-outline-primary","data-v-bf66a8b2":"",children:Object(d.jsx)(o.b,{className:"btn-link",to:"/select?type=individual","data-v-bf66a8b2":"",children:"Individual"})})]})]})}),b=a(19),v=(a(50),a(51)),O=a(52),m=a(53),x=a(54),h=a(55),g=a(56),P=a(57),C=a(58),N=a(59),k={affogato:v,black:O,cafe:m,cappuccino:x,decaf:h,espresso:g,latte:P,mocha:C,ristretto:N},S=[{name:"affogato",file:v},{name:"black",file:O},{name:"cafe",file:m},{name:"cappuccino",file:x},{name:"decaf",file:h},{name:"espresso",file:g},{name:"latte",file:P},{name:"mocha",file:C},{name:"ristretto",file:N}],y=a(34),R=a.n(y),w=a(18);var E=n.a.createContext({socket:null,setSocket:null});function A(e){var t=Object(c.useState)(null),a=Object(i.a)(t,2),n=a[0],s=a[1],r=(Object(u.e)(),Object(c.useCallback)((function(){var e=Object(w.a)("https://murmuring-retreat-94687.herokuapp.com/");s(e)}),[]));return Object(d.jsx)(E.Provider,{value:{socket:n,setSocket:r},children:e.children})}var M=function(e){var t=e.item,a=e.setSelected,n=(e.selected,e.type,Object(u.e)(),Object(c.useContext)(E).socket),s=Object(c.useContext)(f).chatType,r=Object(u.f)();return Object(d.jsxs)("div",{onClick:function(){!function(e){a(e),r("/chat"),n.emit("join",Object(b.a)(Object(b.a)({},e),{},{type:s}),(function(e){}))}(t)},className:"cup-select-container d-flex flex-column align-items-center","data-v-dfdce130":"",children:[Object(d.jsx)("div",{className:"cup-image-container","data-v-dfdce130":"",children:Object(d.jsx)("img",{className:"cup-select",src:t.file.default,alt:"","data-v-dfdce130":""})}),Object(d.jsx)("div",{className:"cup-label","data-v-dfdce130":"",children:R.a.startCase(t.name)})]})},I=function(e){var t=Object(c.useState)(null),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useContext)(E),o=Object(c.useContext)(f),l=Object(u.e)();return Object(c.useEffect)((function(){var e=l.search,t=new URLSearchParams(e).get("type");r.setSocket(),o.setChatType(t)}),[]),Object(d.jsx)("div",{className:"container d-flex align-items-center justify-content-center","data-v-dfdce130":"",children:Object(d.jsxs)("div",{className:"select-wrapper d-flex flex-column","data-v-dfdce130":"",children:[Object(d.jsx)("div",{className:"header-container p-2","data-v-dfdce130":"",children:"Select your coffee character"}),Object(d.jsx)("div",{className:"cups-container d-flex","data-v-dfdce130":"",children:S.map((function(e){if(r.socket)return Object(d.jsx)(M,{setSelected:s,item:e,selected:n,"data-v-dfdce130":""},e.name)}))})]})})};a(64);function T(e){var t=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),a=t[0],n=t[1];return{input:a,handleChange:function(e){n(e.target.value)}}}(),a=t.input,s=t.handleChange;return Object(d.jsxs)(n.a.Fragment,{children:[e.render(a),Object(d.jsx)("input",{onChange:s,onKeyDown:function(t){"Enter"===t.key&&e.onKeyDown(a)},type:"text",className:"form-control","aria-label":"Amount (to the nearest dollar)","data-v-1511656c":""})]})}var _,z=a(38),L=a(78),D=(a(65),a(30)),K=a.n(D),W=(a(66),function(e){var t=Object(c.useState)(!1),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useState)(null),o=Object(i.a)(r,2),u=o[0],d=o[1],f=Object(c.useState)(null),l=Object(i.a)(f,2),j=l[0];return{setPopperActive:s,setPopperRef:d,setPopperContent:l[1],popperActive:n,popperRef:u,popperContent:j}});function B(e){var t=e.setPopperActive,a=e.setPopperRef,n=e.children,s=e.content,r=e.setPopperContent,i=Object(c.useCallback)((function(e){_=setTimeout((function(){t(!0),a(e.target),r(s)}),200)}),[]);return Object(d.jsx)("div",{onMouseEnter:function(e){i(e)},onMouseOut:function(e){clearTimeout(_),t(!1),a(null)},className:"popper-wrapper","data-v-7adbeaa0":"",children:n})}function F(e){var t=e.msg,a=e.setPopperActive,n=e.setPopperContent,s=e.setPopperRef,r=Object(c.useContext)(E).socket;return Object(d.jsxs)("div",{className:K()({"msg-container":!0,"d-flex":!0,"justify-content-end":r.id!==t.user.id}),"data-v-9a2bfaac":"",children:[Object(d.jsx)("div",{className:"user-container","data-v-9a2bfaac":"",children:Object(d.jsx)("div",{className:"prof-image-container","data-v-9a2bfaac":"",children:Object(d.jsxs)(B,{content:t.user.name,setPopperRef:s,setPopperContent:n,setPopperActive:a,"data-v-9a2bfaac":"",children:[Object(d.jsx)("img",{src:k[t.user.name].default,alt:"","data-v-9a2bfaac":""})," "]})})}),Object(d.jsx)(B,{content:t.sent_at,setPopperRef:s,setPopperContent:n,setPopperActive:a,"data-v-9a2bfaac":"",children:Object(d.jsx)("div",{className:K()({"text-container":!0,"incoming-msg":r.id!==t.user.id,"current-user-msg":r.id===t.user.id}),"data-v-9a2bfaac":"",children:t.text})})]})}a(67),a(68);var J=a(77);function G(e){var t=Object(c.useState)(null),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(J.a)(e.popperRef,n,{placement:e.position}),o=r.styles,u=r.attributes;return e.active?Object(d.jsx)("div",Object(b.a)(Object(b.a)({style:o.popper,ref:s},u.popper),{},{className:"popper-container","data-v-f8178511":"",children:e.content})):null}function U(e){return r.a.createPortal(Object(d.jsx)(G,Object(b.a)(Object(b.a)({},e),{},{"data-v-f8178511":""})),document.getElementById("popper"))}function q(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],s=a[1],r=W(),o=r.setPopperActive,u=r.setPopperContent,f=r.setPopperRef,l=r.popperActive,j=r.popperContent,p=r.popperRef,b=Object(c.useContext)(E),v=b.socket;b.setSocket;return Object(c.useEffect)((function(){v.on("message",(function(e,t){"admin"!==t.name&&(e.user=t,e.id=Object(L.a)(),s((function(t){return[].concat(Object(z.a)(t),[e])})))}))}),[]),Object(d.jsxs)("div",{className:"wrapper","data-v-4c933f5e":"",children:[Object(d.jsx)(U,{position:"left",popperRef:p,content:j,active:l,"data-v-4c933f5e":""}),Object(d.jsx)("div",{className:"item-container","data-v-4c933f5e":"",children:n.map((function(e){return Object(d.jsx)("div",{className:"message-container","data-v-4c933f5e":"",children:Object(d.jsx)(F,{popperContent:e.sent_at,setPopperRef:f,setPopperContent:u,setPopperActive:o,msg:e,"data-v-4c933f5e":""})},e.id)}))})]})}a(69);var H=a(37),Q=a.n(H);function V(e){var t=Object(c.useContext)(E).socket,a=function(e){t.emit("message",{text:e,sent_at:Q()().format("LT")})};return Object(d.jsxs)("div",{className:"wrapper","data-v-7a18c83b":"",children:[Object(d.jsx)("div",{className:"messages-wrapper","data-v-7a18c83b":"",children:Object(d.jsx)("div",{className:"message-container","data-v-7a18c83b":"",children:Object(d.jsx)(q,{"data-v-7a18c83b":""})})}),Object(d.jsx)("div",{className:"input-group","data-v-7a18c83b":"",children:Object(d.jsx)(T,{onKeyDown:a,render:function(e){return Object(d.jsx)("span",{className:"input-group-text send-btn",onClick:function(){a(e)},"data-v-7a18c83b":"",children:"Send"})},"data-v-7a18c83b":""})})]})}a(70);var X=[Math.PI/2,Math.PI/4,2*Math.PI,Math.PI/4*7,3*Math.PI/2,Math.PI/4*5,Math.PI/4*3,Math.PI],Y=n.a.memo((function(e){var t=e.user;return Object(d.jsx)("img",{src:k[t.name].default,alt:"","data-v-af79e991":""})}),(function(e){var t=e.user;t.image,t.image}));function Z(e){var t=e.tableSize,a=e.index,n=e.user,s=Object(c.useRef)(),r=t/2;return Object(c.useEffect)((function(){var e=s.current.offsetWidth/2;s.current.style.top="".concat(-r*Math.sin(X[a])+r-e,"px "),s.current.style.left="".concat(r*Math.cos(X[a])+r-e,"px")}),[a]),Object(d.jsx)("div",{ref:s,className:"user-container","data-v-af79e991":"",children:Object(d.jsx)("div",{className:"user-image-container","data-v-af79e991":"",children:Object(d.jsx)(Y,{user:n,"data-v-af79e991":""})})})}function $(e){var t=Object(c.useRef)(),a=(Object(c.useRef)(),W()),n=a.setPopperActive,s=a.setPopperContent,r=a.setPopperRef,o=a.popperActive,u=a.popperContent,f=a.popperRef,l=Object(c.useState)(null),j=Object(i.a)(l,2),p=j[0],b=j[1],v=Object(c.useCallback)((function(){b(t.current.offsetWidth)}),[]);return Object(c.useEffect)((function(){return b(t.current.offsetWidth),window.addEventListener("resize",v),function(){window.removeEventListener("resize",v)}}),[]),Object(d.jsxs)("div",{ref:t,className:"table-container","data-v-af79e991":"",children:[Object(d.jsx)(U,{content:u,active:o,popperRef:f,position:"top","data-v-af79e991":""}),e.users.map((function(e,t){return Object(d.jsx)("div",{className:"user-container","data-v-af79e991":"",children:Object(d.jsx)(B,{setPopperContent:s,setPopperActive:n,setPopperRef:r,content:e.name,"data-v-af79e991":"",children:Object(d.jsx)(Z,{user:e,index:t,tableSize:p,"data-v-af79e991":""})})},e.id)}))]})}a(71);function ee(e){var t=Object(c.useState)([]),a=Object(i.a)(t,2),n=a[0],s=a[1],r=Object(c.useContext)(E),o=r.socket;r.setSocket;return Object(c.useEffect)((function(){var e=!1;return o.on("user_joined",(function(t){e||s(t)})),function(){e=!0}}),[]),Object(d.jsxs)("div",{className:"wrapper d-flex","data-v-6f8b063c":"",children:[Object(d.jsx)($,{users:n,"data-v-6f8b063c":""}),Object(d.jsx)(V,{"data-v-6f8b063c":""})]})}a(72);function te(e){var t=Object(u.f)(),a=Object(c.useContext)(E),s=a.socket;a.setSocket;return function(e){var t=Object(c.useContext)(E),a=t.socket;t.setSocket,Object(c.useEffect)((function(){a&&e()}),[a])}((function(){})),Object(c.useEffect)((function(){s||t("/")}),[]),Object(d.jsx)(n.a.Fragment,{children:s&&e.children})}var ae=function(){var e=Object(c.useState)(),t=Object(i.a)(e,2),a=(t[0],t[1],Object(c.useState)()),n=Object(i.a)(a,2);n[0],n[1];return Object(c.useEffect)((function(){}),[]),Object(d.jsx)("div",{className:"app-wrapper",children:Object(d.jsx)(o.a,{children:Object(d.jsx)(A,{children:Object(d.jsx)(l,{children:Object(d.jsxs)(u.c,{children:[Object(d.jsx)(u.a,{exact:!0,path:"/",element:Object(d.jsx)(p,{})}),Object(d.jsx)(u.a,{path:"select",element:Object(d.jsx)(I,{})}),Object(d.jsx)(u.a,{path:"chat",element:Object(d.jsx)(te,{children:Object(d.jsx)(ee,{})})})]})})})})})};r.a.render(Object(d.jsx)(n.a.StrictMode,{children:Object(d.jsx)(ae,{})}),document.getElementById("root"))}},[[73,1,2]]]);
//# sourceMappingURL=main.2c43b9a7.chunk.js.map